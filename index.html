<!DOCTYPE html>
<html lang="ja">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


<head>
  <meta charset="utf-8">
  <title>My Class Songs</title>
  <link rel="stylesheet" type="text/css" href="index.css">
</head>

<body>
	<section>
		<a href="MySongsCategory.html" class="btn_01" onclick="setGenre('音楽にすききらいは無い')"><span>音楽にすききらいは無い</span></a>
		<br>
		<a href="MySongsCategory.html" class="btn_01" onclick="setGenre('力強い曲がすきだ')"><span>力強い曲がすきだ</span></a>
		<br>
		<a href="MySongsCategory.html" class="btn_01" onclick="setGenre('ゆったりした曲がすきだ')"><span>ゆったりした曲がすきだ</span></a>
		<br>
		<a href="MySongsCategory.html" class="btn_01" onclick="setGenre('感情的な曲がすきだ')"><span>感情的な曲がすきだ</span></a>
		<br>
		<a href="MySongsCategory.html" class="btn_01" onclick="setGenre('ノれる曲が好きだ')"><span>ノれる曲が好きだ</span></a>
		<br>
		<a href="MySongsCategory.html" class="btn_01" onclick="setGenre('よくわからない')"><span>よくわからない</span></a>

		<br>
		<br>
        <div class="image-container">
            <img class="image" src="j42_9_7.png" alt="key" id="keyImage">
        </div>
	</section>

    <!-- モーダルウィンドウ -->
    <div id="passwordModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>参加者向け（準備中）</h2>
            <input type="text" id="passwordInput" placeholder="あいことば">
            <button id="submitPassword">タップ</button>
            <p id="message" style="color: red;"></p> <!-- メッセージ表示用 -->
        </div>
    </div>

    <script>
		const genreMapping = {
		    '音楽にすききらいは無い': 'All',
		    '力強い曲がすきだ': 'Powerful',
		    'ゆったりした曲がすきだ': 'Relaxing',
		    '感情的な曲がすきだ': 'Emotional',
		    'ノれる曲が好きだ': 'Rhythmic'
		};
		
		function setGenre(choice) {
		    const selectedGenre = genreMapping[choice] || 'All';  // よくわからない場合は 'All'
		    localStorage.setItem('selectedGenre', selectedGenre);  // 選択されたジャンルを保存
		}

        const keyImage = document.getElementById('keyImage');
        const modal = document.getElementById('passwordModal');
        const closeModal = document.querySelector('.close');
        const submitButton = document.getElementById('submitPassword');
        const passwordInput = document.getElementById('passwordInput');
        const message = document.getElementById('message');

        const correctPassword = "あいらぶずんば"; // 正しいパスワード

        keyImage.onclick = function() {
            modal.style.display = "block";
            message.textContent = ""; // メッセージをリセット
        }

        closeModal.onclick = function() {
            modal.style.display = "none";
            message.textContent = ""; // メッセージをリセット
        }

        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
                message.textContent = ""; // メッセージをリセット
            }
        }

		submitButton.onclick = function() {
		    if (passwordInput.value === correctPassword) {
		        window.location.href = "MySongs.html?access=true";
		    } else {
		        message.textContent = "違います";
		    }
		}

		setTimeout(() => {
		    const section = document.querySelector('section');
		    section.style.animation = 'moveUp 1s forwards'; // アニメーションを開始
		}, 12000); // 12秒後に実行

	    // 12秒後に画像を表示
	    setTimeout(() => {
	        document.querySelector('.image').style.opacity = 1;
	    }, 13000);

  </script>
	
</body>
</html>
